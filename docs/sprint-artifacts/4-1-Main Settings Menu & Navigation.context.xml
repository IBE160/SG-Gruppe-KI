<story-context id="4-1-main-settings-menu-navigation" v="1.0">
  <metadata>
    <epicId>4</epicId>
    <storyId>1</storyId>
    <title>Main Settings Menu & Navigation</title>
    <status>ready-for-dev</status>
    <generatedAt>2025-12-15</generatedAt>
    <generator>BMAD Story Context Workflow (Regenerated)</generator>
    <sourceStoryPath>docs/sprint-artifacts/4-1-Main Settings Menu & Navigation.md</sourceStoryPath>
  </metadata>
  <story>
    <asA>user</asA>
    <iWant>to access a comprehensive settings menu with categorized options and a search function</iWant>
    <soThat>I can easily find and manage my app preferences.</soThat>
    <tasks>
      - Frontend (apps/web):
        - UI Implementation (Flow 18, Screen 1): Create React components for the main settings menu.
        - Search Functionality: Implement a client-side search bar to filter settings options.
        - API Integration: Ensure proper authentication for accessing settings.
        - Testing: Write unit tests, integration tests, and Playwright E2E tests.
      - Refinement: Ensure UI adheres to `ux_design_content` principles, implement structured JSON logging, verify naming conventions.
    </tasks>
  </story>
  <acceptanceCriteria>
    <criterion>AC4.1.1: The main Settings menu is accessible to logged-in users.</criterion>
    <criterion>AC4.1.2: Categorized settings options are displayed.</criterion>
    <criterion>AC4.1.3: A search bar is available and functional for filtering settings.</criterion>
    <criterion>AC4.1.4: Tapping on a category navigates to its respective sub-screen.</criterion>
  </acceptanceCriteria>
  <artifacts>
    <docs>
        <doc>
            <path>docs/architecture.md</path>
            <title>Architecture</title>
            <section>FR Category to Architecture Mapping</section>
            <snippet>Frontend (Next.js `web` app): Responsible for all user-facing features. Handles: Onboarding, Workout Player UI, Dashboard, Settings, User Profile UI, Context Window.</snippet>
        </doc>
        <doc>
            <path>docs/ux-design-direction.md</path>
            <title>UX Design Direction</title>
            <section>Flow 18: Change Settings (General, Health, Playback & Privacy)</section>
            <snippet>The main settings menu is detailed in Flow 18, Screen 1 - `general/code.html`. Key UX improvements include contextual help, search functionality, and preview for appearance settings.</snippet>
        </doc>
    </docs>
    <code>
      <!-- No existing code artifacts found relevant to this story. -->
    </code>
  </artifacts>
  <constraints>
    <constraint>UI must adhere to the dark theme and conversational patterns defined in `ux-design-direction.md`.</constraint>
    <constraint>Settings categories should be clearly defined and easily navigable.</constraint>
  </constraints>
  <interfaces>
      <interface>
        <name>Settings Navigation</name>
        <kind>UI Navigation</kind>
        <signature>Navigation to sub-screens for different settings categories.</signature>
        <path>apps/web/src/app/settings/</path>
      </interface>
  </interfaces>
  <tests>
      <standards>Unit tests (Jest/RTL) for settings components, integration tests for navigation and search, E2E tests (Playwright) for the settings menu flow.</standards>
      <locations><location>apps/web/src/app/settings/</location></locations>
      <ideas>
          <idea>Unit test settings menu rendering and category navigation.</idea>
          <idea>E2E test searching for settings and navigating to a specific setting sub-screen.</idea>
      </ideas>
  </tests>
</story-context>