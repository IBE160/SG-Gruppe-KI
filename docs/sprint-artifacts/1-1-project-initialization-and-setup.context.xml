<story-context id="{bmad_folder}/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>1</epicId>
    <storyId>1</storyId>
    <title>Project Initialization and Setup</title>
    <status>drafted</status>
    <generatedAt>fredag 21. november 2025</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>C:\Users\Robert\Documents\AI-Powered Personal Training Advisor\SG-Gruppe-KI\docs\sprint-artifacts\1-1-project-initialization-and-setup.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>Developer</asA>
    <iWant>to initialize the project with Next.js, FastAPI, and Supabase by executing the provided setup commands</iWant>
    <soThat>a foundational infrastructure is established and a monorepo structure is set up for further development.</soThat>
    <tasks>
-   [ ] **Initialize Next.js Frontend:** (AC: #1)
    -   [ ] Execute `npx create-next-app@14.x my-fullstack-app --typescript --eslint --tailwind --app --src-dir --import-alias "@/*"` (Source: `architecture.md`) (AC: #1)
    -   [ ] Navigate into the `my-fullstack-app` directory. (AC: #1)
    -   [ ] Install Supabase client for Next.js: `npm install @supabase/supabase-js` (Source: `architecture.md`) (AC: #1)
    -   [ ] Verify basic Next.js application runs without errors. (AC: #1)
-   [ ] **Set up FastAPI Backend:** (AC: #1)
    -   [ ] Create `backend` directory. (AC: #1)
    -   [ ] Navigate into `backend` directory. (AC: #1)
    -   [ ] Create and activate a Python virtual environment: `python -m venv venv` and `.\venv\Scripts\Activate.ps1` (Source: `architecture.md`) (AC: #1)
    -   [ ] Install FastAPI, Uvicorn, and python-dotenv: `pip install fastapi uvicorn python-dotenv "uvicorn[standard]"` (Source: `architecture.md`) (AC: #1)
    -   [ ] Install Supabase client for Python (if needed for direct backend interaction): `pip install supabase-py` (Source: `architecture.md`) (AC: #1)
    -   [ ] Create a basic FastAPI application file (e.g., `main.py`) with a simple health check endpoint. (AC: #1)
    -   [ ] Create a `.env` file in the backend directory for environment variables. (AC: #1)
    -   [ ] Verify basic FastAPI application runs without errors (e.g., `uvicorn main:app --reload`). (AC: #1)
-   [ ] **Verify Monorepo Structure:** (AC: #2)
    -   [ ] Confirm the project root contains both the `my-fullstack-app` (frontend) and `backend` directories. (AC: #2)
-   [ ] **Basic End-to-End Test (Playwright):** (AC: #1, #2)
    -   [ ] Add a basic Playwright test to verify the Next.js frontend loads. (AC: #1)
    -   [ ] Add a basic Playwright test to call the FastAPI health check endpoint. (AC: #1)</tasks>
  </story>

  <acceptanceCriteria>
1.  **Given** the project structure is defined in `architecture.md`
    **When** the initialization commands are run
    **Then** a Next.js frontend, a FastAPI backend, and a Supabase project are created and connected.
2.  **Given** the initialization commands are run
    **Then** the project is structured as a monorepo with distinct frontend and backend applications.
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <entry>
        <path>docs/architecture.md</path>
        <title>Decision Architecture</title>
        <section>Project Initialization</section>
        <snippet>The project will be initialized using a combination of Next.js, FastAPI, and Supabase. The following commands outline the foundational setup: [bash commands listed]</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Decision Architecture</title>
        <section>Decision Summary</section>
        <snippet>Frontend Framework: Next.js 14.x (LTS); Frontend Language: TypeScript 5.9.3; Backend Framework: FastAPI 0.121.3; Backend Language: Python 3.11; Database: Supabase (PostgreSQL); Project Structure: Monorepo (Next.js/FastAPI).</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Decision Architecture</title>
        <section>Project Structure</section>
        <snippet>A high-level overview of the project directory, emphasizing the monorepo structure with distinct frontend and backend applications.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/PRD.md</path>
        <title>AI-Powered Personal Training Advisor Product Requirements Document (PRD)</title>
        <section>Goals and Background Context</section>
        <snippet>The AI-Powered Personal Training Advisor addresses issues by providing a holistic, adaptive fitness companion that offers personalized daily plans, seamless music integration, and habit-building features.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/PRD.md</path>
        <title>AI-Powered Personal Training Advisor Product Requirements Document (PRD)</title>
        <section>Functional Requirements</section>
        <snippet>FR001: Conversational Onboarding & Goal Setting; FR005: Authentication (OAuth for Google, Email); FR013: User Profile Management (view/edit profile info, goals, equipment).</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/PRD.md</path>
        <title>AI-Powered Personal Training Advisor Product Requirements Document (PRD)</title>
        <section>Non-Functional Requirements</section>
        <snippet>NFR001: WCAG 2.1 AA compliance; NFR002: GDPR compliance; NFR003: Privacy-first approach; NFR004: Performance; NFR005: Availability; NFR006: Security; NFR007: Offline Behavior; NFR008: Observability; NFR009: Rate Limiting; NFR010: GDPR Ops.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/PRD.md</path>
        <title>AI-Powered Personal Training Advisor Product Requirements Document (PRD)</title>
        <section>User Interface Design Goals</section>
        <snippet>Target Platforms: Deliver a responsive web application (Phase 1) with a clear roadmap for native iOS and Android applications (Phase 2).</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>Executive Summary</section>
        <snippet>The AI-Powered Personal Training Advisor aims to solve workout inconsistency by providing personalized, adaptive daily plans, seamless music integration, and habit-building features.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>1.1 Design System Choice</section>
        <snippet>Chosen Design System: shadcn/ui (v0.8.0). Rationale: Selected for its modern, customizable, and headless components that integrate seamlessly with Tailwind CSS.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>2.1 Defining Experience</section>
        <snippet>The core defining experience is the "Adaptive Daily Session" — a 3-step ritual that combines self-reflection, AI guidance, and performance tracking. Initial phase will focus on a web application.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>4.1 Chosen Design Approach</section>
        <snippet>Chosen Direction: #2 - Data-Driven Dashboard. Layout Decisions: A primary sidebar navigation will be used for the web application.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>8.1 Responsive Strategy</section>
        <snippet>Goal: Ensure the app delivers a smooth, adaptive experience across mobile, tablet, and desktop — starting web-first with future mobile-native expansion. Principles: Design mobile-first, scale up.</snippet>
      </entry>
      <entry>
        <path>docs/fase 1/ux-design-specification.md</path>
        <title>ibe160 UX Design Specification</title>
        <section>8.2 Accessibility</section>
        <snippet>Goal: To ensure the AI-Powered Personal Training Advisor is usable by the widest possible audience, including individuals with disabilities, adhering to WCAG 2.1 AA.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Overview</section>
        <snippet>This epic establishes the foundational infrastructure, user authentication, and conversational onboarding for the AI-Powered Personal Training Advisor.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Objectives and Scope</section>
        <snippet>In-Scope: User registration and login via email/password and Google OAuth; User profile creation and management; AI-guided conversational onboarding; Initialization of the project with Next.js, FastAPI, and Supabase.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>System Architecture Alignment</section>
        <snippet>This epic directly aligns with the foundational architectural decisions outlined in `architecture.md`. It leverages Next.js for the frontend, FastAPI for the backend, and Supabase for PostgreSQL database and authentication.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Workflows and Sequencing</section>
        <snippet>Story 1.1: As a Developer, I want to initialize the project with core infrastructure, so that I can begin feature development with a functional monorepo. Action: Execute `npx create-next-app` for the frontend and set up the `backend` directory with `venv` and FastAPI/Uvicorn. Configures `.env` files for Supabase access.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Non-Functional Requirements</section>
        <snippet>Performance: API Latency (NFR004) < 300ms. Security: Supabase Auth, RLS. Reliability: 99% uptime. Observability: Structured logging.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Dependencies and Integrations</section>
        <snippet>This epic primarily relies on Supabase (Authentication, PostgreSQL Database, RLS), Next.js (Frontend Framework), FastAPI (Backend Framework), and Google OAuth.</snippet>
      </entry>
      <entry>
        <path>docs/sprint-artifacts/tech-spec-epic-1.md</path>
        <title>Epic Technical Specification: Core Platform & User Foundation</title>
        <section>Test Strategy Summary</section>
        <snippet>The testing strategy for Epic 1 will focus on ensuring the robustness of the core platform, user authentication, and profile management features. It will encompass unit, integration, API, and end-to-end testing.</snippet>
      </entry>
    </docs>
    <code></code>
    <dependencies>
      <ecosystem name="Node.js">
        <package name="next" version="14.x" type="framework"/>
        <package name="react" type="library"/>
        <package name="react-dom" type="library"/>
        <package name="typescript" type="language"/>
        <package name="eslint" type="tool"/>
        <package name="tailwindcss" type="framework"/>
        <package name="@supabase/supabase-js" type="library"/>
        <package name="@faker-js/faker" version="^10.1.0" type="devDependency"/>
        <package name="@playwright/test" version="^1.56.1" type="devDependency"/>
      </ecosystem>
      <ecosystem name="Python">
        <package name="fastapi" type="framework"/>
        <package name="uvicorn" type="library"/>
        <package name="python-dotenv" type="library"/>
        <package name="supabase-py" type="library"/>
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint>
      <category>Project Structure</category>
      <description>The project must adhere to a monorepo structure with separate frontend (Next.js) and backend (FastAPI) applications.</description>
      <source>docs/architecture.md#Project-Structure</source>
    </constraint>
    <constraint>
      <category>Naming Conventions</category>
      <description>Consistent naming conventions must be applied across the codebase (camelCase for JS variables/functions, PascalCase for React components/TS types, kebab-case for JS files; snake_case for Python variables/functions/files, PascalCase for Python classes).</description>
      <source>docs/architecture.md#Naming-Conventions</source>
    </constraint>
    <constraint>
      <category>Code Organization</category>
      <description>Code must be organized according to the specified modular structure for Next.js (app/, components/, lib/, hooks/, styles/, types/, public/) and FastAPI (app/api/, app/core/, app/db/, app/schemas/, app/services/, app/crud/, app/dependencies/, tests/, alembic/).</description>
      <source>docs/architecture.md#Code-Organization</source>
    </constraint>
    <constraint>
      <category>Testing</category>
      <description>Testing framework is not explicitly provided by the initial setup and will need to be added. Basic end-to-end testing with Playwright is included in the story tasks.</description>
      <source>Story 1.1 Tasks, docs/architecture.md#Project-Initialization</source>
    </constraint>
  </constraints>
  <interfaces></interfaces>
  <tests>
    <standards>Playwright is used for end-to-end testing. Unit and integration testing frameworks are not yet defined for the project, but should be established as development progresses.</standards>
    <locations>
      <location>tests/e2e/</location>
      <location>playwright.config.ts</location>
    </locations>
    <ideas>
      <idea ac_id="1">Verify Next.js frontend application loads successfully.</idea>
      <idea ac_id="1">Verify FastAPI backend health check endpoint is accessible and returns a success status.</idea>
    </ideas>
  </tests>
</story-context>